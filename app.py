import streamlit as st
import time
import random
from gtts import gTTS  # ‡§¨‡•ã‡§≤‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø ‡§ï‡•á ‡§≤‡§ø‡§è
import os

# --- 1. ‡§™‡•á‡§ú ‡§∏‡•á‡§ü‡§Ö‡§™ ---
st.set_page_config(page_title="RAJARAM-X: THE BRAIN CLUSTER", layout="wide")
st.markdown("<style>.stApp { background-color: #0d1117; color: #58a6ff; }</style>", unsafe_allow_html=True)

# --- 2. 30 ‡§¶‡§ø‡§Æ‡§æ‡§ó‡•ã‡§Ç ‡§ï‡•Ä ‡§Ö‡§∏‡§≤‡•Ä ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§î‡§∞ ‡§â‡§®‡§ï‡•á ‡§ï‡§æ‡§Æ ---
BRAINS = {
    "Vision-Master": "‡§´‡•ã‡§ü‡•ã ‡§î‡§∞ ‡§ö‡§ø‡§§‡•ç‡§∞ ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø",
    "Voice-Soul": "‡§Ü‡§µ‡§æ‡•õ ‡§¶‡•á‡§®‡•á ‡§î‡§∞ ‡§¨‡•ã‡§≤‡§®‡•á ‡§ï‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø",
    "Chat-Logic": "‡§¨‡§æ‡§§‡§ö‡•Ä‡§§ ‡§î‡§∞ ‡§∏‡§µ‡§æ‡§≤‡•ã‡§Ç ‡§ï‡•á ‡§ú‡§µ‡§æ‡§¨",
    "Cyber-Shield": "‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§ï‡•Ä ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ",
    "Speed-Engine": "‡§∞‡•û‡•ç‡§§‡§æ‡§∞ ‡§¨‡•ù‡§æ‡§®‡§æ",
    # ... ‡§¨‡§æ‡§ï‡•Ä 25 ‡§¶‡§ø‡§Æ‡§æ‡§ó ‡§á‡§∏‡•Ä ‡§§‡§∞‡§π ‡§¨‡•à‡§ï‡§è‡§Ç‡§° ‡§Æ‡•á‡§Ç ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á
}
# 30 ‡§¶‡§ø‡§Æ‡§æ‡§ó‡•ã‡§Ç ‡§ï‡§æ ‡§°‡•á‡§ü‡§æ‡§¨‡•á‡§∏ ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡§®‡§æ
for i in range(6, 31):
    BRAINS[f"Brain-Node-{i}"] = "‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§°‡•á‡§ü‡§æ ‡§è‡§®‡§æ‡§≤‡§ø‡§∏‡§ø‡§∏"

# --- 3. ‡§∂‡§ï‡•ç‡§§‡§ø‡§Ø‡§æ‡§Å: ‡§¨‡•ã‡§≤‡§®‡§æ ‡§î‡§∞ ‡§´‡•ã‡§ü‡•ã ‡§¨‡§®‡§æ‡§®‡§æ ---
def speak_text(text):
    """‡§¨‡•ã‡§≤‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø"""
    tts = gTTS(text=text, lang='hi')
    tts.save("speech.mp3")
    st.audio("speech.mp3")

def generate_image_ui(prompt):
    """‡§´‡•ã‡§ü‡•ã ‡§¨‡§®‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø (‡§∏‡§ø‡§Æ‡•Å‡§≤‡•á‡§∂‡§®)"""
    st.info(f"üé® '{prompt}' ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ö‡§ø‡§§‡•ç‡§∞ ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à...")
    # ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§∏‡§≤‡•Ä AI Image API ‡§ú‡•Å‡•ú ‡§∏‡§ï‡§§‡§æ ‡§π‡•à, ‡§Ö‡§≠‡•Ä ‡§π‡§Æ ‡§°‡•á‡§Æ‡•ã ‡§á‡§Æ‡•á‡§ú ‡§¶‡§ø‡§ñ‡§æ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç
    st.image("https://pollinations.ai/p/" + prompt.replace(" ", "%20"), caption="Rajaram-X ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§®‡§ø‡§∞‡•ç‡§Æ‡§ø‡§§")

# --- 4. ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§á‡§Ç‡§ü‡§∞‡§´‡•á‡§∏ ---
st.markdown("<h1 style='text-align: center; color: #ff4b4b;'>üß† RAJARAM-X: 30 BRAINS SYSTEM</h1>", unsafe_allow_html=True)

# ‡§∏‡§æ‡§á‡§°‡§¨‡§æ‡§∞ ‡§Æ‡•á‡§Ç 30 ‡§¶‡§ø‡§Æ‡§æ‡§ó‡•ã‡§Ç ‡§ï‡§æ ‡§≤‡§æ‡§á‡§µ ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏
with st.sidebar:
    st.title("üåê Live Brain Cluster")
    for name, task in BRAINS.items():
        st.write(f"üü¢ {name}: {task}")

# --- 5. ‡§Ö‡§∏‡§≤‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§á‡§∏‡•ç‡§§‡•á‡§Æ‡§æ‡§≤ ---
col1, col2 = st.columns(2)

with col1:
    st.subheader("üñºÔ∏è ‡§´‡•ã‡§ü‡•ã ‡§¨‡§®‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø")
    img_prompt = st.text_input("‡§ï‡•ç‡§Ø‡§æ ‡§´‡•ã‡§ü‡•ã ‡§¨‡§®‡§æ‡§ä‡§Å? (‡§ú‡•à‡§∏‡•á: 'A lion in space')")
    if st.button("‡§´‡•ã‡§ü‡•ã ‡§¨‡§®‡§æ‡§ì"):
        if img_prompt:
            generate_image_ui(img_prompt)

with col2:
    st.subheader("üó£Ô∏è ‡§¨‡•ã‡§≤‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø")
    speech_text = st.text_area("‡§Æ‡•Å‡§ù‡§∏‡•á ‡§ï‡•ç‡§Ø‡§æ ‡§¨‡•Å‡§≤‡§µ‡§æ‡§®‡§æ ‡§π‡•à?")
    if st.button("‡§Ü‡§µ‡§æ‡•õ ‡§®‡§ø‡§ï‡§æ‡§≤‡•ã"):
        if speech_text:
            speak_text(speech_text)

# --- 6. ‡§≤‡§æ‡§á‡§µ ‡§ö‡•à‡§ü ‡§î‡§∞ 30 ‡§¶‡§ø‡§Æ‡§æ‡§ó‡•ã‡§Ç ‡§ï‡§æ ‡§°‡§ø‡§∏‡•Ä‡§ú‡§® ---
st.markdown("---")
user_query = st.chat_input("‡§π‡•Å‡§ï‡•Å‡§Æ ‡§ï‡§∞‡•á‡§Ç ‡§∞‡§æ‡§ú‡§æ‡§∞‡§æ‡§Æ ‡§≠‡§æ‡§à (‡§ö‡•à‡§ü ‡§ï‡§∞‡•á‡§Ç)...")

if user_input := user_query:
    # ‡§∞‡•à‡§Ç‡§°‡§Æ ‡§¶‡§ø‡§Æ‡§æ‡§ó ‡§ö‡•Å‡§®‡§®‡§æ ‡§ú‡•ã ‡§á‡§∏ ‡§ï‡§æ‡§Æ ‡§ï‡•ã ‡§ï‡§∞‡•á‡§ó‡§æ
    active_brain = random.choice(list(BRAINS.keys()))
    
    with st.chat_message("assistant"):
        st.markdown(f"**‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§¶‡§ø‡§Æ‡§æ‡§ó:** `{active_brain}`")
        st.write(f"‡§®‡§Æ‡§∏‡•ç‡§§‡•á ‡§∞‡§æ‡§ú‡§æ‡§∞‡§æ‡§Æ ‡§≠‡§æ‡§à! ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•á '{active_brain}' ‡§¶‡§ø‡§Æ‡§æ‡§ó ‡§ï‡§æ ‡§á‡§∏‡•ç‡§§‡•á‡§Æ‡§æ‡§≤ ‡§ï‡§∞‡§ï‡•á ‡§ú‡§µ‡§æ‡§¨ ‡§¶‡•á ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å‡•§")
        st.success(f"‡§Ü‡§™‡§ï‡§æ ‡§∏‡§µ‡§æ‡§≤: {user_input}")
        # ‡§Ø‡§π‡§æ‡§Å AI ‡§ï‡§æ ‡§Ö‡§∏‡§≤‡•Ä ‡§ú‡§µ‡§æ‡§¨ ‡§Ü‡§è‡§ó‡§æ

st.markdown("<p style='text-align: center; color: gray;'>Powered by Rajaram-X | 30 Brains Logic</p>", unsafe_allow_html=True)
